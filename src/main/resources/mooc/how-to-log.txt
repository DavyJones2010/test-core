写在前面
在日常答疑、查问题过程中，一般都会查日志，但是往往我们查不到可用的日志，或者查到的日志对调查问题帮助不大；有时候还会遇到，日志量太大，会把磁盘打爆，或者瞬间打印大量日志；
所以本文根据自己的经验，简单总结写下应该如何记录日志
如有写的不恰当的地方，请大家批评指正

本文主要从以下几个方面说明如何记录日志
其一：维度——日志文件的维度
1.业务场景维度
2.数据库表维度

其二：类型——统计类、修改记录类、异常信息类
1.统计类
服务访问统计、db访问统计、cache访问统计等等，这类统计一般可以用于分析服务调用是否合理
2.修改记录类
关键数据修改往往都需要记录修改内容，有利于分析数据问题
3.异常信息类
调用服务、访问数据库，访问cahce等等，难免会报错，需要记录下来用于调查问题
4.流程记录类
比如说启动流程，服务执行流程等等
启动流程，个人认为是需要详细记录日志的，尤其是我们提供的客户端
服务执行流程，这类日志一般不需要实时打印，调查问题时通过日志开关的方式

其三：内容格式——问题出现最多的
1.内容
必须包含关键字，确保记录的都是有用和必要的信息，不要记录一堆，可能一个英文单词就足够了
不要只记录做了什么或者发生了什么，但是没有记录谁做的，也没有记录上下文——这种日志最常 见；
日志里面不要记录中文，如果你遇到编码问题，或是需要使用awk等脚本进行分析时，你就能体会我说的了；
日志里面如果你需要使用多个单词来表示一个含义时，如果不能缩减成一个单词，建议你使用连接符链接起来，分析统计时很有帮助
2.格式
格式很重要，日志最终是给人看的，如果记录的乱七八糟，没有任何规范而言，查看日志真的很累；
人的眼睛都是有焦点的，尽量把关键信息都放在同一个焦点上，不要同样的关键字一会在前面，一会在后面，尽量把重点关注的信息放在一起，至少要放的很近，如果你想做眼保健操我也无话可说；
记录时尽量使用同样的分隔符进行分割，确保每一列的含义都是固定的，有利于我们使用脚本对日志进行分析统计

其四：切入点——打印日志的时机
调查问题时，我们往往会遇到查到某个节点，发现无法定位了，因为没有记录日志；
最常见，调用服务失败不能漏掉记录日志；初始化或者后台运行任务接受消息的，需要记录日志；程序中处理不符合业务逻辑的，需要记录日志；如果是在aop做拦截了，可以在里面统计；